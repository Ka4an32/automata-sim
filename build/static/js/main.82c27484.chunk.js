(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){"use strict";t.__esModule=!0},141:function(e,t,n){e.exports=n(163)},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(48),i=n.n(a),s=n(17),c=n.n(s),u=n(25),l=n(20),d=n(21),p=n(30),m=n(29),f=(n(147),n(148),n(115)),h=(n(149),n(229)),v=n(173),g=["visible","title","style","className","children"],E=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.title,o=e.style,a=e.className,i=e.children,s=Object(f.a)(e,g);return r.a.createElement(h.a,Object.assign({className:"control-wrapper".concat(t?"":"--hidden"," ").concat(a),variant:"outlined",style:o},s),r.a.createElement("div",{className:"control-wrapper--content"},r.a.createElement("div",null,r.a.createElement(v.a,{variant:"h6"},n)),r.a.createElement("div",{className:"control-wrapper--child"},i)))}}]),n}(r.a.Component);E.defaultProps={visible:!0};var b,y=E,k=n(224),S=n(221),w=n(226),C=n(232),N=n(230),T=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var o,r,a,i,s;return Object(l.a)(this,n),(s=t.call(this,e)).onLabelChange=function(e){null!==s.props.node&&(s.props.changeNodeLabel(s.props.node.id,e.target.value),s.setState({label:e.target.value}))},s.onIsAdmitChanged=function(e){null!==s.props.node&&(s.props.changeStateIsAdmit(s.props.node.id,e.target.checked),s.setState({isAdmit:e.target.checked},function(){return s.props.reinitComputer()}))},s.onIsInitialChanged=function(e){null===s.props.node||s.props.node.isAdmit||(s.props.changeStateIsInitial(s.props.node.id,e.target.checked),s.setState({isInitial:e.target.checked},function(){return s.props.reinitComputer()}))},s.onDeleteClick=function(){null!==s.props.node&&s.props.deleteNode(s.props.node.id)},s.state={prevNodeId:null===(o=s.props.node)||void 0===o?void 0:o.id,label:(null===(r=s.props.node)||void 0===r?void 0:r.label)||"",isAdmit:(null===(a=s.props.node)||void 0===a?void 0:a.isAdmit)||!1,isInitial:(null===(i=s.props.node)||void 0===i?void 0:i.isInitial)||!1},s}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n,o,r,a,i;(null===(n=this.props.node)||void 0===n?void 0:n.id)!==t.prevNodeId&&this.setState({label:(null===(o=this.props.node)||void 0===o?void 0:o.label)||"",isAdmit:(null===(r=this.props.node)||void 0===r?void 0:r.isAdmit)||!1,isInitial:(null===(a=this.props.node)||void 0===a?void 0:a.isInitial)||!1,prevNodeId:null===(i=this.props.node)||void 0===i?void 0:i.id})}},{key:"render",value:function(){return r.a.createElement(y,{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",visible:null!==this.props.node},r.a.createElement(N.a,null,r.a.createElement("div",{className:"node-control__item"},r.a.createElement(S.a,{label:"\u0418\u043c\u044f",size:"small",value:this.state.label,onChange:this.onLabelChange})),r.a.createElement("div",{className:"node-control__item"},r.a.createElement(C.a,{control:r.a.createElement(k.a,{checked:this.state.isInitial,onChange:this.onIsInitialChanged}),label:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435"})),r.a.createElement("div",{className:"node-control__item"},r.a.createElement(C.a,{control:r.a.createElement(k.a,{checked:this.state.isAdmit,onChange:this.onIsAdmitChanged}),label:"\u0414\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0449\u0435\u0435"})),r.a.createElement("div",{className:"node-control__item"},r.a.createElement(w.a,{onClick:this.onDeleteClick},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),n}(r.a.Component),_=n(16),I=n(41),j="Epsilon",O=function(){function e(t,n){var o=this;Object(l.a)(this,e),this.input=[],this.alphabet=new Map,this.statements=new Map,this.nodes=void 0,this.startStatements=[],this.edges=[],this.currentNode=void 0,this.counterSteps=0,this.counterStepsForResult=0,this.historiStep=[],this.historiRun=[],this.matrix=[],this.haveEpsilon=void 0,this.restart=void 0,this.run=void 0,this.step=void 0,this.setInput=void 0,this.byEmptyStackAdmt=function(e){throw new Error("PDA attribute")},this.nfaToDfa=function(){throw new Error("DFA conversion")},this.minimizeDfa=function(){throw new Error("DFA conversion")},this.mooreToMealy=function(){throw new Error("Moor conversion")},this.mealyToMoore=function(){throw new Error("Moor conversion")},this.getCurrNode=function(){return o.currentNode.id},this.getStartStatements=function(){return o.startStatements},t.edges.sort(function(e,t){return e.from-t.from}).forEach(function(e){return o.edges.push({transitions:void 0===e.transitions?new Set([[{title:""}]]):e.transitions,from:e.from,to:e.to,localValue:[]})});for(var r=function(e){o.edges[e].localValue=[],o.edges[e].transitions.forEach(function(t){return t.forEach(function(t){return o.edges[e].localValue.push(t)})})},a=0;a<this.edges.length;a++)r(a);this.getAlphabetFromEdges(),this.getStatementsFromNodes(t.nodes),this.startStatements=n,this.currentNode=n[0],this.nodes=t.nodes,this.createMatrix()}return Object(d.a)(e,[{key:"getInput",value:function(){return this.input}},{key:"getAlphabet",value:function(){return this.alphabet}},{key:"getAlphabetFromEdges",value:function(){for(var e=this,t=new Set,n=0;n<this.edges.length;n++)this.edges[n].localValue.forEach(function(e){""!==e.title&&t.add(e.title)});var o=0;t.forEach(function(t){""!==t&&(e.alphabet.set(t,o),o++)})}},{key:"getStatementsFromNodes",value:function(e){for(var t=0;t<e.length;t++)this.statements.set(e[t].id,{id:e[t].id,isAdmit:e[t].isAdmit,idLogic:t,output:e[t].output})}},{key:"createMatrix",value:function(){for(var e=0;e<this.statements.size;e++){this.matrix[e]=[];for(var t=0;t<this.alphabet.size;t++)this.matrix[e][t]=[]}for(var n=0;n<this.edges.length;n++)for(var o=this.statements.get(this.edges[n].from),r=this.statements.get(this.edges[n].to),a=0;a<this.edges[n].localValue.length;a++){var i=this.alphabet.get(this.edges[n].localValue[a].title);if(void 0!==i){console.log(i),console.log(this.edges[n].localValue[a].title);var s=this.edges[n].localValue[a].stackDown,c=this.edges[n].localValue[a].stackPush,u=this.edges[n].localValue[a].move,l=void 0===this.edges[n].localValue[a].output?r.output:this.edges[n].localValue[a].output;void 0!==s&&void 0!==c&&""!==s&&0!==c.length||(s=j,c=[j]),this.matrix[o.idLogic][i].push(Object(I.a)(Object(I.a)({},r),{},{stackDown:s,stackPush:c,move:u,output:l}))}}this.alphabet.forEach(function(e,t){return console.log(e," ",t)}),this.statements.forEach(function(e){return console.log(e)}),this.matrix.forEach(function(e){console.log(),e.forEach(function(e){return console.log(e)})})}},{key:"cellMatrix",value:function(e,t){return this.matrix[e][t]}}]),e}(),x=n(50),M=function(e){return function(t){return t===j?e:t}},A=function(e){return function(t){return t.map(function(t){return M(e)(t)}).join(":")}},D=function(e){return 0===e?"L":"R"},P=function(e,t){for(var n=function(){var t=0;return void 0!==e&&e.forEach(function(e){e.forEach(function(e){if(void 0!==e.stackDown&&void 0!==e.stackPush){var n=Math.max.apply(Math,Object(_.a)(e.stackPush.map(function(e){return e===j?0:e.length})).concat([0])),o=e.title===j?0:e.title.length,r=e.stackDown===j?0:e.stackDown.length;t=Math.max.apply(Math,Object(_.a)([n,o,r,t].map(function(e){return e})).concat([0]))}})}),t},o="",r=0;r<7*n();r++)o+=" ";var a=M("\u03b5"),i=A("\u03b5"),s=""+(o="tm"===t?"       ":o);return void 0!==e&&("tm"===t?e.forEach(function(e){e.forEach(function(e){void 0!==e.stackDown&&void 0!==e.stackPush&&void 0!==e.move&&(s+=a(e.stackDown)+" | "+i(e.stackPush)+" "+D(e.move)+"\n"+o)})}):"pda"===t||"dpda"===t?e.forEach(function(e){e.forEach(function(e){void 0!==e.title&&e.title.length>0&&void 0!==e.stackDown&&e.stackDown.length>0&&void 0!==e.stackPush&&e.stackPush.length>0&&(s+=a(e.title)+", "+a(e.stackDown)+" | "+i(e.stackPush)+" \n"+o)})}):"dfa"===t||"nfa"===t||"nfa-eps"===t||"moore"===t||"dmoore"===t?e.forEach(function(e){e.forEach(function(e){void 0!==e.title&&e.title.length>0&&(s+=a(e.title)+" \n"+o)})}):"mealy"!==t&&"dmealy"!==t||e.forEach(function(e){e.forEach(function(e){void 0!==e.title&&e.title.length>0&&void 0!==e.output&&(s+=a(e.title)+" | "+e.output+"\n"+o)})})),s},L=function(e,t){var n=M("eps"),o=A("eps"),r="";return void 0!==e&&("tm"===t?e.forEach(function(e){e.forEach(function(e){void 0!==e.stackDown&&void 0!==e.stackPush&&void 0!==e.move&&(r+=n(e.stackDown)+" | "+o(e.stackPush)+">"+D(e.move)+";\n")})}):"pda"===t||"dpda"===t?e.forEach(function(e){e.forEach(function(e){void 0!==e.title&&e.title.length>0&&void 0!==e.stackDown&&e.stackDown.length>0&&void 0!==e.stackPush&&e.stackPush.length>0&&(r+=n(e.title)+", "+n(e.stackDown)+" | "+o(e.stackPush)+";\n")})}):"dfa"===t||"nfa"===t||"nfa-eps"===t||"moore"===t||"dmoore"===t?e.forEach(function(e){e.forEach(function(e){void 0!==e.title&&e.title.length>0&&(r+=n(e.title)+";\n")})}):"mealy"!==t&&"dmealy"!==t||e.forEach(function(e){e.forEach(function(e){void 0!==e.title&&e.title.length>0&&void 0!==e.output&&(r+=n(e.title)+" | "+e.output+";\n")})})),r},R=function(e,t){e.edges.forEach(function(n){e.edges.update({id:n.id,label:P(n.transitions,t)})}),e.nodes.forEach(function(t){var n=t.label.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split("|"),o=void 0!==n[1]?n[1]:void 0;t.output=o;var r=t.isInitial?"#0041d0":t.isAdmit?"#ff0072":"#000000",a=t.isCurrent?"#ffff55":"#ffffff",i=1.5,s=2,c=4;e.nodes.update({id:t.id,color:{background:a,border:r,highlight:{border:r,background:a}},borderWidth:t.isInitial||t.isAdmit?s:i,borderWidthSelected:c})})},z=function(e){var t={nodes:new x.a,edges:new x.a};return e.nodes.forEach(function(e){t.nodes.add(e)}),e.edges.forEach(function(e){t.edges.add(e)}),t},H=function(e){var t={nodes:[],edges:[]};return e.nodes.forEach(function(e){t.nodes.push(e)}),e.edges.forEach(function(e){t.edges.push(e)}),t},B={mealy:{name:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442 \u041c\u0438\u043b\u0438",preview:"mealy.png",description:"\u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0430 \u0438 \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432",defaultGraph:{nodes:[{x:0,y:0,id:1,isAdmit:!1,isCurrent:!1,isInitial:!0,label:"0 rub"},{x:300,y:-200,id:2,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"5 rub"},{x:500,y:-300,id:3,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"15 rub"},{x:-100,y:-500,id:4,isAdmit:!1,isCurrent:!1,isInitial:!1,label:"10 rub"}],edges:[{from:1,to:2,transitions:new Set([[{title:"f",output:"n"}]])},{from:1,to:4,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:3,transitions:new Set([[{title:"t",output:"n"}]])},{from:2,to:4,transitions:new Set([[{title:"f",output:"n"}]])},{from:3,to:1,transitions:new Set([[{title:"f",output:"0"},{title:"t",output:"5"}]])},{from:4,to:3,transitions:new Set([[{title:"f",output:"n"}]])},{from:4,to:1,transitions:new Set([[{title:"t",output:"0"}]])}]}}},V=(n(154),n(106)),U=n.n(V),F=function(e){return function(t){return r.a.createElement(Xe.Consumer,null,function(n){return r.a.createElement(e,Object.assign({computerType:n},t))})}};!function(e){e[e.L=0]="L",e[e.R=1]="R"}(b||(b={}));var G=F(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var o,r,a,i,s;return Object(l.a)(this,n),(s=t.call(this,e)).selectTransition=function(e){s.state.activeTransition===e?s.setState({activeTransition:null}):s.setState({activeTransition:e})},s.changeTransitions=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,o,r,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,s.setState({transitionsText:n}),o=[],r=[],"tm"===s.props.computerType&&s.state.transitionsText.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split(";").forEach(function(e){var t,n=e.split(""),r=n.shift(),a=n=n.join("").split("|"),i=n.join("").split(">");i.reverse(),t=i.shift(),i.reverse(),a=i,o.push({fst:j,snd:r,trd:a.join(":"),fth:t})}),"mealy"===s.props.computerType||"dmealy"===s.props.computerType?(s.state.transitionsText.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split(";").forEach(function(e){var t=e.split("|"),n=t.shift(),r=t.shift();o.push({fst:n,snd:r,trd:void 0,fth:void 0})}),o.forEach(function(e){void 0!==e.fst&&r.push({title:"eps"===e.fst?j:e.fst,output:e.snd})})):(s.state.transitionsText.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split(";").forEach(function(e){var t=e.split(","),n=t.shift(),r=(t=t.join("").split("|")).shift(),a=t;o.push({fst:n,snd:r,trd:a.join(":"),fth:void 0})}),o.forEach(function(e){var t;void 0!==e.fst&&r.push({title:"eps"===e.fst?j:e.fst,stackDown:"eps"===e.snd?j:e.snd,stackPush:null===(t=e.trd)||void 0===t?void 0:t.split(":").map(function(e){return"eps"===e?j:e}),move:"L"===e.fth?b.L:"R"===e.fth?b.R:void 0})})),a=new Set([r]),s.props.changeEdgeTransitions(s.props.edge.id,a),console.log("ALLLOO"),s.setState({transitionsText:n,transitions:a},function(){return s.props.reinitComputer()});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s.deleteEdge=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!==s.props.edge&&s.props.deleteEdge(s.props.edge.id),e.next=3,s.props.reinitComputer();case 3:case"end":return e.stop()}},e)})),s.changeEditMode=function(){s.setState({editMode:!s.state.editMode}),s.updateTransitions()},s.updateTransitions=Object(u.a)(c.a.mark(function e(){var t,n,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],"tm"===s.props.computerType&&s.state.transitionsText.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split(";").forEach(function(e){var n,o=e.split(""),r=o.shift(),a=o=o.join("").split("|"),i=o.join("").split(">");i.reverse(),n=i.shift(),i.reverse(),a=i,console.log("tmp"),console.log(i),t.push({fst:j,snd:r,trd:a.join(":"),fth:n,out:void 0})}),"mealy"===s.props.computerType||"dmealy"===s.props.computerType?s.state.transitionsText.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split(";").forEach(function(e){var n=e.split("|"),o=n.shift(),r=n.shift();t.push({fst:o,snd:void 0,trd:void 0,fth:void 0,out:r})}):s.state.transitionsText.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split(";").forEach(function(e){var n=e.split(","),o=n.shift(),r=(n=n.join("").split("|")).shift(),a=n;t.push({fst:o,snd:r,trd:a.join(":"),fth:void 0,out:void 0})}),n=[],t.forEach(function(e){var t;void 0!==e.fst&&n.push({title:"eps"===e.fst?j:e.fst,stackDown:"eps"===e.snd?j:e.snd,stackPush:null===(t=e.trd)||void 0===t?void 0:t.split(":").map(function(e){return"eps"===e?j:e}),move:"L"===e.fth?b.L:"R"===e.fth?b.R:void 0,output:e.out})}),o=new Set([n]),s.setState({transitionsText:L(o,s.props.computerType),transitions:o}),e.next=9,s.props.reinitComputer();case 9:case"end":return e.stop()}},e)})),s.deleteTransition=function(){if(null!==s.props.edge&&null!==s.state.activeTransition){var e=s.state.transitions;e.delete(s.state.activeTransition),s.props.changeEdgeTransitions(s.props.edge.id,e),s.setState({transitions:e,transitionsText:L(e,s.props.computerType)})}},s.helperText=function(){switch(s.props.computerType){case"dfa":case"nfa":case"nfa-eps":case"moore":case"dmoore":return'\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438\u043b\u0438 "eps" \u0447\u0435\u0440\u0435\u0437 \u0442\u043e\u0447\u043a\u0443 \u0441 \u0437\u0430\u043f\u044f\u0442\u043e\u0439';case"dmealy":case"mealy":return'"f | n;", "eps" \u0434\u043b\u044f \u03b5';case"dpda":case"pda":return'"a, a | a:Z0;", "eps" \u0434\u043b\u044f \u03b5. \u041d\u0430 \u0434\u043d\u0435 \u0441\u0442\u0435\u043a\u0430 "Z0"';case"tm":return'"a | a>R;", eps \u0434\u043b\u044f \u03b5. "R" - \u0432\u043f\u0440\u0430\u0432\u043e, "L" - \u0432\u043b\u0435\u0432\u043e';default:return""}},s.state={prevEdgeId:null===(o=s.props.edge)||void 0===o?void 0:o.id,transitions:(null===(r=s.props.edge)||void 0===r?void 0:r.transitions)||new Set,transitionsText:L((null===(a=s.props.edge)||void 0===a?void 0:a.transitions)||new Set,s.props.computerType),displayedTransitionText:L((null===(i=s.props.edge)||void 0===i?void 0:i.transitions)||new Set,s.props.computerType),activeTransition:null,editMode:!1,countRules:1,rules:[{id:1,value:" "}]},s}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n,o,r,a;(null===(n=this.props.edge)||void 0===n?void 0:n.id)!==t.prevEdgeId&&this.setState({transitions:(null===(o=this.props.edge)||void 0===o?void 0:o.transitions)||new Set,prevEdgeId:null===(r=this.props.edge)||void 0===r?void 0:r.id,transitionsText:L((null===(a=this.props.edge)||void 0===a?void 0:a.transitions)||new Set,this.props.computerType),activeTransition:null,editMode:!1})}},{key:"addInstruction",value:function(e){var t={id:this.state.rules.length,value:e};this.setState({rules:this.state.rules.concat(t)})}},{key:"render",value:function(){return r.a.createElement(y,{title:"\u041f\u0435\u0440\u0435\u0445\u043e\u0434",visible:null!==this.props.edge},r.a.createElement("div",{className:"edge-control__container"},r.a.createElement("div",{className:"edge-control__item edge-control__transitions"},r.a.createElement(S.a,{id:"filled-multiline-static",multiline:!0,rows:3,variant:"standard",label:"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u044b",size:"small",value:this.state.transitionsText,onChange:this.changeTransitions,helperText:this.helperText(),onBlur:this.updateTransitions}),r.a.createElement("div",{className:"edge-control__edit-transitions",onClick:this.changeEditMode},r.a.createElement(U.a,null))),r.a.createElement("div",{className:"edge-control__item"},r.a.createElement(w.a,{onClick:this.deleteEdge},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),n}(r.a.Component)),W=n(10),J=(n(101),n(233)),K=n(217),X=n(234),Y=n(231),Z=n(225),q=n(235),Q=n(236),$=(n(155),function(e){var t=e.open,n=e.onClose,a=e.changeComputerType,i=Object(o.useState)([]),s=Object(W.a)(i,2),c=s[0];s[1];return r.a.createElement(J.a,{open:t,onClose:n,maxWidth:"md",fullWidth:!0},r.a.createElement(K.a,null,r.a.createElement("p",null,"\u041c\u0435\u043d\u044e")),r.a.createElement(X.a,null,r.a.createElement(h.a,{className:"welcome-popout__body",variant:"outlined"},r.a.createElement(Y.a,{dense:!0},0!==c.length?r.a.createElement(q.a,null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u043e\u0431\u043b\u0430\u043a\u0435"):null,r.a.createElement(q.a,null,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c"),Object.entries(B).map(function(e){return r.a.createElement(Z.a,{key:e[1].name,secondaryAction:r.a.createElement("div",null,r.a.createElement(w.a,{variant:"contained",size:"small",onClick:function(){return t=e[0],a(t,{nodes:[],edges:[]}),void n();var t}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))},r.a.createElement(Q.a,{primary:e[1].name,secondary:e[1].description}))})))))}),ee=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,[{key:"getSavesMeta",value:function(){var t=e.getSaves();return new Promise(function(e){e(t)})}},{key:"getSave",value:function(t){var n=e.getSaves().find(function(e){return e.id==t.id});return new Promise(function(e){e(n||null)})}},{key:"save",value:function(t,n,o){if(!localStorage)throw new Error("no local storage");var r=e.getSaves(),a=(Math.max.apply(Math,Object(_.a)(r.map(function(e){return Number(e.id)})))+1).toString(),i=r.findIndex(function(e){return e.name==t}),s={id:"0",name:t,save:{graph:n,type:o}};-1==i?(s.id=a,r.push(s)):(s.id=r[i].id,r[i]=s);var c=JSON.stringify(r,function(e,t){return t instanceof Set?Array.from(t):t});return localStorage.setItem("saves",c),new Promise(function(e){e()})}}],[{key:"getSaves",value:function(){if(!localStorage)throw new Error("no local storage");var e=[];try{e=JSON.parse(localStorage.getItem("saves")||"")}catch(t){return console.warn("Invalid saves in local storage: "+t),[]}return e}}]),e}(),te=n(238),ne=n(227),oe=n(237),re=n(218),ae=n(228),ie=(n(156),function(e){var t=e.open,n=e.onClose,a=e.isLogin,i=e.graph,s=e.computerType,l=function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_(!0),t=[],e.t0=v,e.next="browser"===e.t0?5:9;break;case 5:return e.next=7,p.getSavesMeta();case 7:return t=e.sent,e.abrupt("break",11);case 9:return k([]),e.abrupt("break",11);case 11:k(t),_(!1);case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=Object(o.useState)(new ee),p=Object(W.a)(d,1)[0],m=Object(o.useState)(a?"cloud":"browser"),f=Object(W.a)(m,2),v=f[0],g=f[1],E=Object(o.useState)([]),b=Object(W.a)(E,2),y=b[0],k=b[1],C=Object(o.useState)(!1),N=Object(W.a)(C,2),T=N[0],_=N[1],I=Object(o.useState)(""),j=Object(W.a)(I,2),O=j[0],x=j[1];return Object(o.useEffect)(function(){t&&(g(a?"cloud":"browser"),l())},[t]),Object(o.useEffect)(function(){l()},[v]),Object(o.useEffect)(function(){x("")},[v,t]),r.a.createElement(J.a,{open:t,onClose:n},r.a.createElement(K.a,null,r.a.createElement("p",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435")),r.a.createElement(X.a,null,r.a.createElement("div",{className:"saving-popout__body"},r.a.createElement("div",{className:"saving-popout__body__sidebar"},r.a.createElement(ne.a,{orientation:"vertical",exclusive:!0,value:v,onChange:function(e,t){g(t=t||v)}},r.a.createElement(oe.a,{value:"cloud",disabled:!a},"\u041e\u0431\u043b\u0430\u043a\u043e"),r.a.createElement(oe.a,{value:"browser"},"\u0411\u0440\u0430\u0443\u0437\u0435\u0440"))),r.a.createElement("div",{className:"saving-popout__body__main"},r.a.createElement(h.a,{className:"saving-popout__body__main__paper",variant:"outlined"},T?r.a.createElement("div",{className:"saving-popout__body__main__skeleton"},r.a.createElement(ae.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"}),r.a.createElement(ae.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"}),r.a.createElement(ae.a,{className:"saving-popout__body__main__skeleton__bar",animation:"wave",variant:"rectangular",height:"36"})):r.a.createElement(Y.a,{dense:!0},y.map(function(e){return r.a.createElement(Z.a,{key:e.id,disablePadding:!0},r.a.createElement(re.a,{onClick:function(t){return function(e,t){x(t.name)}(0,e)}},r.a.createElement(Q.a,{primary:e.name})))}))))),r.a.createElement(S.a,{className:"saving-popout__save-name-input",variant:"standard",size:"small",label:"\u0418\u043c\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",value:O,onChange:function(e){var t=e.target.value;x(t)}}),r.a.createElement(te.a,null,r.a.createElement(w.a,{color:"primary",onClick:function(e){switch(v){case"browser":p.save(O,i,s)}l(),n()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(w.a,{color:"primary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}),se=n(72),ce=n(14),ue=n(76),le=(n(157),n(243)),de=n(219),pe=n(222),me=function(e){Object(ue.a)(e);var t=Object(ce.f)(),n=Object(o.useState)(""),a=Object(W.a)(n,2),i=a[0],s=a[1],l=Object(o.useState)(""),d=Object(W.a)(l,2),p=d[0],m=d[1],f=Object(o.useState)(""),h=Object(W.a)(f,2),g=h[0],E=h[1],b=Object(o.useState)(null),y=Object(W.a)(b,2),k=y[0],C=y[1],N=function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(function(){C(null)},[i,p,g]),r.a.createElement("div",{className:"login-page"},r.a.createElement(le.a,{maxWidth:"xs"},r.a.createElement(de.a,{spacing:1,justifyContent:"center",style:{minHeight:"100vh"}},r.a.createElement(v.a,{variant:"h5",align:"center",sx:{paddingBottom:"24px"}},"\u041d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),k&&r.a.createElement(pe.a,{severity:"error"},k),r.a.createElement(S.a,{size:"small",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043f\u043e\u0447\u0442\u0430",type:"email",value:i,onChange:function(e){var t=e.target.value;s(t)}}),r.a.createElement(S.a,{size:"small",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",value:p,onChange:function(e){var t=e.target.value;m(t)}}),r.a.createElement(S.a,{label:"\u041e \u0441\u0435\u0431\u0435",type:"text",multiline:!0,rows:3,value:g,onChange:function(e){var t=e.target.value;E(t)}}),r.a.createElement(w.a,{variant:"contained",onClick:N},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(v.a,{variant:"overline",align:"center"},"\u0438\u043b\u0438"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){t("/login")}},"\u0412\u043e\u0439\u0442\u0438"))))},fe=n(239),he=n(240),ve=(n(158),function(e){var t=e.onMenuButtonClicked;return r.a.createElement(fe.a,{position:"sticky"},r.a.createElement(he.a,{variant:"dense"},r.a.createElement("div",{className:"app__header__left"},r.a.createElement(w.a,{className:"app__header__button",color:"inherit",onClick:t},"\u041c\u0435\u043d\u044e"))))}),ge=(n(159),function(e){Object(ue.a)(e);var t=Object(ce.f)();return r.a.createElement("div",{className:"registered-page"},r.a.createElement(le.a,{maxWidth:"xs"},r.a.createElement(de.a,{spacing:1,justifyContent:"center",style:{minHeight:"100vh"}},r.a.createElement(v.a,{variant:"h5",align:"center",sx:{paddingBottom:"24px"}},"\u041d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u043d"),r.a.createElement(w.a,{variant:"outlined",onClick:function(){t("/login")}},"\u0412\u043e\u0439\u0442\u0438"))))}),Ee=n(113),be=n(114),ye=n(111),ke=function(e){var t=Object(o.useState)(Object(o.useRef)(null)),n=Object(W.a)(t,2),a=n[0],i=(n[1],Object(o.useState)({edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}},length:200},manipulation:{enabled:!1,addEdge:function(t,n){console.log("add edge",t),n(t),E(!1),e.network.current.disableEditMode()}},layout:{improvedLayout:!1},nodes:{shapeProperties:{interpolation:!1},shape:"circle",font:"18px Roboto black",labelHighlightBold:!1,size:40,borderWidth:2,color:{background:"#ffffff",border:"#000000",highlight:{border:"#000000",background:"#ffffff"}}},physics:{enabled:!1}})),s=Object(W.a)(i,2),c=s[0],u=(s[1],r.a.useState(null)),l=Object(W.a)(u,2),d=l[0],p=l[1],m=function(e){e.preventDefault(),p(null===d?{mouseX:e.clientX-2,mouseY:e.clientY-4}:null)},f=function(){p(null)},h=Object(o.useState)(!1),v=Object(W.a)(h,2),g=v[0],E=v[1],b=Object(o.useCallback)(function(t){17===t.keyCode&&(g||(console.log("handleUserKeyPress"),e.network.current.addEdgeMode(),E(!0),console.log("--\x3e"+g)))},[g]),y=Object(o.useCallback)(function(t){17===t.keyCode&&g&&(console.log("handleUserKeyUnPress"),e.network.current.disableEditMode(),E(!1),console.log("--\x3e"+g))},[g]),k=Object(o.useState)(Object(o.useRef)(null)),S=Object(W.a)(k,2);S[0],S[1],new be.a([{id:1,content:"item 1",start:"2014-04-20"},{id:2,content:"item 2",start:"2014-04-14"},{id:3,content:"item 3",start:"2014-04-18"},{id:4,content:"item 4",start:"2014-04-16",end:"2014-04-19"},{id:5,content:"item 5",start:"2014-04-25"},{id:6,content:"item 6",start:"2014-04-27",type:"point"}]);Object(o.useEffect)(function(){return window.addEventListener("keydown",b),window.addEventListener("keyup",y),console.log("--"+g),function(){window.removeEventListener("keydown",b),window.removeEventListener("keyup",y)}},[b]);r.a.createRef();Object(o.useLayoutEffect)(function(){a.current&&(e.network.current=new Ee.a(a.current,e.data,c),console.log("HERE<-domNode.current")),console.log("HERE<-"),window.addEventListener("contextmenu",function(e){return e.preventDefault()}),e.network.current&&(e.network.current.on("doubleClick",function(t){E(!1),e.onDoubleClick(t)}),e.network.current.on("click",e.onClick1),e.network.current.on("click",e.onClick2),e.network.current.on("click",e.onClick3),e.network.current.on("click",e.onClick4),e.network.current.on("click",e.onClick4),e.network.current.on("dragging",function(){e.network.current.unselectAll()}),e.network.current.on("controlNodeDragging",function(){e.network.current.unselectAll()}))},[a,e.data,e.network,c]);var w=function(){return r.a.createElement("div",{id:"network",style:{height:"100%",width:"100%"},ref:a})};return void 0===e.contextMenu?w():r.a.createElement("div",{onContextMenu:m,style:{height:"100%",width:"100%"}},w(),r.a.createElement(ye.a,{open:null!==d,onClose:f,anchorReference:"anchorPosition",anchorPosition:null!==d?{top:d.mouseY,left:d.mouseX}:void 0},e.contextMenu(f,m)))},Se=n(241),we=n(223),Ce={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Ne=function(e){var t=o.useState(!1),n=Object(W.a)(t,2),r=n[0],a=n[1];return Object(o.useEffect)(function(){e.isNonDetermenistic&&(a(e.isNonDetermenistic),e.setIsNonDetermenistic(!1))}),o.createElement("div",null,o.createElement(we.a,{open:r,onClose:function(){return a(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.createElement(Se.a,{sx:Ce},o.createElement(v.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"\u041e\u0448\u0438\u0431\u043a\u0430"),o.createElement(v.a,{id:"modal-modal-description",sx:{mt:2}},"\u041d\u0435\u0434\u0435\u0442\u0435\u0440\u043c\u0435\u043d\u0438\u0437\u043c"))))},Te=function(e){var t=o.useState(!1),n=Object(W.a)(t,2),r=n[0],a=n[1];return Object(o.useEffect)(function(){e.isNonMinimizable&&(a(e.isNonMinimizable),e.setIsNonMinimizable(!1))}),o.createElement("div",null,o.createElement(we.a,{open:r,onClose:function(){return a(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},o.createElement(Se.a,{sx:Ce},o.createElement(v.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"\u041e\u0448\u0438\u0431\u043a\u0430"),o.createElement(v.a,{id:"modal-modal-description",sx:{mt:2}},"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0440\u043e\u0432\u0430\u0442\u044c"))))},_e=(n(160),n(244)),Ie=n(245),je=n(246),Oe=n(247),xe=n(248),Me=n(249),Ae=n(250),De=function(e){e.changeComputerType;var t=Object(o.useState)(null),n=Object(W.a)(t,2),a=n[0],i=(n[1],Object(o.useState)([])),s=Object(W.a)(i,2),c=s[0],u=(s[1],Object(o.useState)(!1)),l=Object(W.a)(u,2),d=l[0],p=l[1],m=Object(o.useState)(null),f=Object(W.a)(m,2),h=(f[0],f[1]),g=Object(o.useState)(null),E=Object(W.a)(g,2),b=(E[0],E[1],function(){p(!1)});return a&&r.a.createElement("div",{className:"me-page"},r.a.createElement(J.a,{open:d,onClose:b},r.a.createElement(K.a,null,"\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(X.a,null,r.a.createElement(_e.a,null,"\u041a\u043e\u043f\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0439. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e. \u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?")),r.a.createElement(X.a,null,r.a.createElement(w.a,{onClick:function(){return b()}},"\u041d\u0435\u0442"))),r.a.createElement(le.a,null,r.a.createElement(de.a,{spacing:4},r.a.createElement(de.a,{spacing:1},r.a.createElement(v.a,{variant:"h5"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(de.a,null,r.a.createElement(v.a,{variant:"body1"},"\u041e \u0441\u0435\u0431\u0435: ",a.about))),r.a.createElement(de.a,{spacing:1},r.a.createElement(v.a,{variant:"h5"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),c.length>0&&r.a.createElement(Ie.a,null,r.a.createElement(je.a,null,r.a.createElement(Oe.a,null,r.a.createElement(xe.a,null,r.a.createElement(Me.a,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(Me.a,null,"\u0412\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),r.a.createElement(Me.a,null,"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),r.a.createElement(Me.a,null,"\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"))),r.a.createElement(Ae.a,null,c.map(function(e){return r.a.createElement(xe.a,{key:e.id},r.a.createElement(Me.a,null,e.name),r.a.createElement(Me.a,null,new Date(e.createdDateTime).toLocaleString("ru-ru")),r.a.createElement(Me.a,null,new Date(e.lastModifiedDateTime).toLocaleString("ru-ru")),r.a.createElement(Me.a,null,r.a.createElement(w.a,{size:"small",onClick:function(){return t=e.id,h(t),void p(!0);var t}},"\u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u0435")))})))),0===c.length&&r.a.createElement(pe.a,{severity:"warning",icon:!1},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0435\u0449\u0451 \u043d\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u043b\u0441\u044f \u0441\u0432\u043e\u0438\u043c\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f\u043c\u0438")))))},Pe={init:function(){},nfaToDfa:function(){},minimizeDfa:function(){},mooreToMealy:function(){},mealyToMoore:function(){}},Le={changerByStack:function(){},run:function(){},step:function(){},reset:function(){}},Re=function(e){var t;return"tm"===e.computerType&&e.wasComputerResetted?r.a.createElement("div",{className:"app__mem_ribbon"},null===(t=e.mem)||void 0===t?void 0:t.map(function(t,n){var o,a;return r.a.createElement("div",{className:"app__mem_cell",style:{border:"".concat(n===e.ptr?"#0041d0":"#000000"," 2px solid")}},Math.abs(Math.abs(n)-Math.abs(e.ptr))<=5?r.a.createElement("div",{ref:e.memRef}):r.a.createElement("div",null),t,null===(o=e.memRef)||void 0===o?void 0:null===(a=o.current)||void 0===a?void 0:a.scrollIntoView({behavior:"smooth"}))})):r.a.createElement("div",null)},ze=n(107),He=(n(162),n(108)),Be=n.n(He),Ve=n(109),Ue=n.n(Ve),Fe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e,o,r){var a;return Object(l.a)(this,n),(a=t.call(this,e,o,r)).mealyToMoore=function(){var e=new Map;a.edges.forEach(function(t){t.transitions.forEach(function(t){return t.forEach(function(t){var n=t.output;e.has(n)||e.set(n,e.size)})})});var t=[];e.forEach(function(e,n){return t.push(n)}),console.log(e),console.log(t);var n=a.edges.reduce(function(e,t){var n=[];return t.transitions.forEach(function(e){return e.forEach(function(e){return n.push({from:t.from,to:t.to,title:e.title,output:e.output?e.output:""})})}),n.forEach(function(t){return e.push(t)}),e},new Array),o=new Map;a.nodes.forEach(function(t){return o.set(t.id,new Array(e.size).fill(-1))});var r=1;n.forEach(function(t){if(void 0===o.get(t.to))throw new Error("Mealy to Moore");-1===o.get(t.to)[e.get(t.output)]&&(o.get(t.to)[e.get(t.output)]=r,r++)});var i=[];o.forEach(function(e,n){return e.map(function(e,n){return{value:e,out:t[n]}}).filter(function(e){return-1!==e.value}).forEach(function(e){i.push(Object(I.a)(Object(I.a)({},a.nodes.find(function(e){return e.id===n})),{},{id:e.value,output:e.out}))})});var s=n.reduce(function(t,n){if(void 0===o.get(n.from))throw new Error("Mealy to Moore");return o.get(n.from).filter(function(e){return-1!==e}).forEach(function(r){var a=e.get(n.output);t.push({from:r,to:o.get(n.to)[a],title:n.title})}),t},new Array),c=a.startStatements.map(function(e){return a.nodes[e.id]}),u=[];c.forEach(function(e){var t;return null===(t=o.get(e.id))||void 0===t?void 0:t.filter(function(e){return-1!==e}).forEach(function(e){return u.push(i.find(function(t){return t.id===e}))})});var l=[];s.sort(function(e,t){return e.from-t.from||e.to-t.to});for(var d=0;d<s.length;d++){for(var p=[],m=d;m<s.length&&s[d].from===s[m].from&&s[d].to===s[m].to;)p.push({title:s[m].title}),m++;d=m-1,l.push({from:s[d].from,to:s[d].to,transitions:new Set([p])})}return{graphcore:{edges:l,nodes:i},start:u}},a.step=a.oaStep,a.run=a.oaRun,a}return Object(d.a)(n)}(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e,o,r){var a;return Object(l.a)(this,n),(a=t.call(this,e,o)).curPosition=void 0,a.haveEpsilon=function(){return void 0!==a.alphabet.get(j)},a.restart=function(){a.counterSteps=0,a.historiStep=[],a.curPosition=[],a.startStatements.forEach(function(e){a.curPosition.push({stmt:a.statements.get(e.id)})})},a.oaRun=function(){var e,t=[];a.historiRun=[],a.counterStepsForResult=0;for(var n=0;n<a.input.length;n++){var o={counterSteps:a.counterStepsForResult,curPosition:a.curPosition,historiStep:a.historiRun},r=a._step(o,t);a.counterStepsForResult=o.counterSteps,console.log(a.counterStepsForResult),a.curPosition=o.curPosition,a.historiRun=o.historiStep,e=r.output}return{counter:a.counterStepsForResult,history:a.historiRun,isAdmit:a.haveAdmitting(a.curPosition),nodes:a.toNodes(a.curPosition),output:e,histTrace:t}},a.nextStepPosition=function(e,t){return a.cellMatrix(e.stmt.idLogic,t).map(function(n){return{position:{stmt:n,by:function(e){var t;return a.alphabet.forEach(function(n,o){e===n&&(t=o)}),t}(t),cur:a.nodes[n.idLogic],from:a.nodes[e.stmt.idLogic]},output:n.output}})},a.nextStepPositions=function(e,t){var n=e.map(function(e){return a.nextStepPosition(e,t)}),o=n.reduce(function(e,t){return t.forEach(function(t){return e.push(t.position)}),e},[]),r=n.reduce(function(e,t){return t.forEach(function(t){if(void 0===t.output)throw new Error("Output undefinded");e.push(t.output)}),e},[]);return o.forEach(function(e,t){return e.output=r[t]}),{positions:o,outputs:r}},a._step=function(e,t){var n,o=[],r=a.alphabet.get(null===(n=a.input[e.counterSteps])||void 0===n?void 0:n.value),i=a.nextStepPositions(e.curPosition,r);e.curPosition=i.positions;var s=a.toNodes(e.curPosition);return s.forEach(function(e){return o.push(e)}),e.historiStep.push({nodes:s,by:r}),e.curPosition.length>0&&e.counterSteps++,console.log("---\x3ebyLetter"),console.log(o),console.log("---\x3ebyLetter"),t.push({byLetter:o}),{counter:e.counterSteps,history:e.historiStep,isAdmit:a.haveAdmitting(e.curPosition),nodes:s,output:i.outputs,byLetter:o,histTrace:t}},a.oaStep=function(){var e={counterSteps:a.counterSteps,curPosition:a.curPosition,historiStep:a.historiStep},t=a._step(e,[]);return a.counterSteps=e.counterSteps,a.curPosition=e.curPosition,a.historiStep=e.historiStep,{counter:t.counter,history:t.history,isAdmit:t.isAdmit,nodes:t.nodes,output:t.output,byLetter:t.byLetter}},a.setInput=function(e){a.input=[],e.forEach(function(e){a.input.push({idLogic:a.alphabet.get(e),value:e})}),a.restart()},a.curPosition=[],o.forEach(function(e){a.curPosition.push({stmt:a.statements.get(e.id)})}),a.setInput(r),a.counterSteps=0,console.log("ALPHBT"),a.alphabet.forEach(function(e,t){return console.log(e,t)}),console.log("STMTS"),a.statements.forEach(function(e){return console.log(e)}),console.log(a.curPosition),a.matrix.forEach(function(e){console.log(),e.forEach(function(e){return console.log(e)})}),a}return Object(d.a)(n,[{key:"isDeterministic",value:function(){var e=!0;return this.matrix.forEach(function(t){return t.forEach(function(t){var n=t[0],o=t.reduce(function(e,t){return e||t.stackDown===n.stackDown},!1);t.length>1&&o&&(e=!1)})}),e}},{key:"toNodes",value:function(e){var t=this,n=[];return e.forEach(function(e){var o=Object(I.a)(Object(I.a)({},t.nodes[e.stmt.idLogic]),{},{from:e.from,cur:e.cur,by:e.by,output:e.output,stack:void 0===e.stack?void 0:e.stack.getStorage()});n.push(o)}),n}},{key:"haveAdmitting",value:function(e){return e.reduce(function(e,t){return e&&t.stmt.isAdmit},!0)}}]),n}(O)),Ge=n(220),We=function(e){return r.a.createElement("div",{className:"run-control__item run-control__history"},0!==e.history.length&&r.a.createElement("div",{className:"run-control__history__scroll"},void 0!==e.startNode?r.a.createElement("div",{className:"run-control__history__row",key:0},r.a.createElement("span",{className:"run-control__history__index"},0),r.a.createElement(Ge.a,{title:r.a.createElement(v.a,{className:"display-linebreak"},"~")},r.a.createElement("div",{className:"run-control__history__node",style:{border:"".concat(e.startNode.isInitial?"#0041d0":e.startNode.isAdmit?"#ff0072":"#000000"," 2px solid")}},e.startNode.label))):r.a.createElement("div",null),e.history.map(function(e,t){return r.a.createElement("div",{className:"run-control__history__row",key:t},r.a.createElement("span",{className:"run-control__history__index"},t+1),e.map(function(e,t){return r.a.createElement(Ge.a,{title:r.a.createElement(v.a,{className:"display-linebreak"},void 0!==e.note?e.note.join("\n"):"")},r.a.createElement("div",{className:"run-control__history__node",style:{border:"".concat(e.node.isInitial?"#0041d0":e.node.isAdmit?"#ff0072":"#000000"," 2px solid")}},e.node.label))}))}),r.a.createElement("div",null,r.a.createElement("div",{ref:e.historyEndRef}))))},Je=function(e){var t=e.reduce(function(e,t){return console.log(t),e.push(r.a.createElement("div",{className:"run-control__item run-control__buttons"},t.map(function(e){return r.a.createElement("div",{className:"run-control__button"},r.a.createElement(w.a,{variant:"outlined",onClick:function(){e.onClick()}},e.name()))}))),e},[]);return r.a.createElement("div",null,t)},Ke=F(function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).computerShouldBeUpdated=function(e,t){return e.edges.length!==t.edges.length||e.edges.some(function(e,n){var o=t.edges[n];return e.id!==o.id||e.from!==o.from||e.to!==o.to||!Object(ze.isEqual)(o.transitions,e.transitions)})||e.nodes.length!==t.nodes.length||e.nodes.some(function(e,n){var o=t.nodes[n];return e.id!==o.id||e.isAdmit!==o.isAdmit||e.isInitial!==o.isInitial})},o.getComputer=function(e,t,n,o){switch(e){case"mealy":return new Fe(t,n,o)}},o.initializeComputer=function(){console.warn("Reinitializing computer"),o.setState({gElements:H(o.props.elements)},function(){o.props.resetHistTree();var e=H(o.props.elements).nodes.filter(function(e){return e.isInitial}),t=o.state.input.split("");void 0!==e?o.setState({computer:o.getComputer(o.props.computerType,o.state.gElements,e,t),result:void 0},Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],(void 0!==o.state.computer?o.state.computer.getStartStatements():[]).forEach(function(e,n){var r=n+1;t.push({stack:e.stack?Object(_.a)(e.stack):[],from:e.from,by:e.by,stackDown:e.stackDown,label:"".concat(e.id),isAdmit:e.isAdmit,isInitial:!0,isCurrent:!1,id:o.props.getLastHistNodeId()+r,idd:e.id})}),"pda"===o.props.computerType||"dpda"===o.props.computerType?t.forEach(function(e){var t=o.state.gElements.nodes.find(function(t){return t.id===e.idd}),n=(null===t||void 0===t?void 0:t.label)+"\n\u2015"+e.stack.reduce(function(e,t){return"\n"+t+e},"");o.props.createHistNode(e.idd,n,e.isAdmit,e.isInitial,e.isCurrent)}):t.forEach(function(e){var t=o.state.gElements.nodes.find(function(t){return t.id===e.idd});o.props.createHistNode(e.idd,t.label,e.isAdmit,e.isInitial,e.isCurrent)}),e.next=6,o.setState({lastHistUnits:t});case 6:case"end":return e.stop()}},e)}))):console.warn("There is no initial node. Computer will not be initialized")})},o.onInputChanged=function(e){var t,n=e.target.value;o.reset(),null===(t=o.state.computer)||void 0===t||t.setInput(n.split("")),o.setState({input:n})},o.drawTreeLayot=function(e,t,n){e.forEach(function(e,t){var r=t+1,a=o.state.gElements.nodes.find(function(t){return t.id===e.id});n.push({stack:e.stack?Object(_.a)(e.stack):[],from:e.from,by:e.by,stackDown:e.stackDown,move:e.move,output:e.output,label:"".concat(e.id),isAdmit:e.isAdmit,isInitial:a.isInitial,isCurrent:a.isCurrent,id:o.props.getLastHistNodeId()+r,idd:e.id})}),"pda"===o.props.computerType||"dpda"===o.props.computerType?n.forEach(function(e){var t=o.state.gElements.nodes.find(function(t){return t.id===e.idd}),n=(null===t||void 0===t?void 0:t.label)+"\n\u2015"+e.stack.reduce(function(e,t){return"\n"+t+e},"");o.props.createHistNode(e.idd,n,e.isAdmit,e.isInitial,e.isCurrent)}):n.forEach(function(e){var t=o.state.gElements.nodes.find(function(t){return t.id===e.idd});o.props.createHistNode(e.idd,t.label,e.isAdmit,e.isInitial,e.isCurrent)});var r=function(e){return e===j?"\u03b5":e},a=function(e,t,n,a){return r(e)+function(e){return"pda"===o.props.computerType||"dpda"===o.props.computerType?", "+r(e):""}(t)+function(e){return"tm"===o.props.computerType?e===b.L?", L":", R":""}(n)+function(e){return"mealy"===o.props.computerType||"dmealy"===o.props.computerType?", "+e:""}(a)},i=n.reduce(function(e,n){return e.push({from:function(){switch(o.props.computerType){case"tm":case"moore":case"dmoore":case"mealy":case"dmealy":return t.filter(function(e){var t;return n.from&&e.idd===(null===(t=n.from)||void 0===t?void 0:t.id)})[0].id;default:return t.filter(function(e){var t,o,r;return n.from&&e.idd===(null===(t=n.from)||void 0===t?void 0:t.id)&&(null===(o=e.stack)||void 0===o?void 0:o.toString)===(null===(r=n.from.stack)||void 0===r?void 0:r.toString)})[0].id}}(),to:[n.id],by:a(n.by,n.stackDown,n.move,n.output)}),e},[]);console.log("\n\n\n"),i.forEach(function(e){return e.to.forEach(function(t){return o.props.createHistEdge(e.from,t,e.by)})}),o.setState({lastHistUnits:n})},o.treeEps=function(e,t,n){console.log("\n"),console.log("EPS>>>",e),console.log("LTR>>>",t),console.log("EPS>>>",n),console.log("\n");var r=[];o.drawTreeLayot(e,o.state.lastHistUnits,r);var a=[];o.drawTreeLayot(t,r,a);o.drawTreeLayot(n,a,[])},o.tree=function(e){o.drawTreeLayot(e,o.state.lastHistUnits,[])},o.step=Object(u.a)(c.a.mark(function e(){var t,n,a,i,s,u,l,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==o.state.computer){e.next=3;break}return console.error("Computer is not initialized yet"),e.abrupt("return");case 3:if(o.props.setResettedStatus(!0),!o.state.wasRuned){e.next=9;break}return o.setState({wasRuned:!1}),o.reset(),e.next=9,o.props.resetHistTree();case 9:if(o.state.currentInputIndex!==o.state.input.length-1||"tm"===o.props.computerType){e.next=11;break}return e.abrupt("return");case 11:if(void 0===o.state.result||-1===o.state.currentInputIndex||"tm"===o.props.computerType){e.next=13;break}return e.abrupt("return");case 13:if(e.prev=13,0!==(t=o.state.computer.step()).nodes.length){e.next=17;break}return e.abrupt("return");case 17:o.props.changeStateIsCurrent(t.nodes.map(function(e){return e.id}),!0),o.props.updMem(t.memory,t.pointer),n=void 0,t.counter===o.state.input.length?n=t.isAdmit:o.state.currentInputIndex+2!==t.counter&&(n=!1),a=t.nodes.map(function(e){return o.state.gElements.nodes.find(function(t){return t.id===e.id})}).filter(function(e){return void 0!==e}),i=t.byEpsPred?t.byEpsPred:[],s=t.byLetter?t.byLetter:[],u=t.byEpsAfter?t.byEpsAfter:[],"tm"!==o.props.computerType&&o.state.computer.haveEpsilon()?(console.log("byEpsAfter>>>",u),o.treeEps(i,s,u)):(console.log("byLetter",s),l=[],o.drawTreeLayot(s,o.state.lastHistUnits,l)),d=a.map(function(e,n){var o=t.nodes[n].stack;return{node:e,note:void 0!==o?o.reverse():void 0!==t.output?t.output:void 0}}),o.setState({result:n,currentInputIndex:o.state.currentInputIndex+1,history:[].concat(Object(_.a)(o.state.history),[d]),memory:t.memory},function(){o.props.setHistory(function(){return r.a.createElement(We,{startNode:o.state.startNode,history:o.state.history,historyEndRef:o.props.historyEndRef})})}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(13),console.log(e.t0);case 33:case"end":return e.stop()}},e,null,[[13,30]])})),o.reset=function(){var e,t;null===(e=o.state.computer)||void 0===e||e.restart(),o.props.changeStateIsCurrent([],!0),o.setState({result:void 0,currentInputIndex:-1,history:[]},function(){o.initializeComputer(),o.props.setHistory(function(){return r.a.createElement(We,{startNode:o.state.startNode,history:o.state.history,historyEndRef:o.props.historyEndRef})})}),null===(t=o.state.computer)||void 0===t||t.setInput(o.state.input.split("")),o.props.setResettedStatus(!1),o.props.resetHistTree()},o.run=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==o.state.computer){e.next=3;break}return console.error("Computer is not initialized yet"),e.abrupt("return");case 3:return e.next=5,o.reset();case 5:try{t=o.state.computer.run(),(t.histTrace?t.histTrace:[]).forEach(function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.byEpsPred?t.byEpsPred:[],r=t.byLetter?t.byLetter:[],a=t.byEpsAfter?t.byEpsAfter:[],o.state.computer&&o.state.computer.haveEpsilon()?o.treeEps(n,r,a):o.tree(r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),o.setState({result:t.isAdmit,currentInputIndex:-1,history:[]}),o.setState({wasRuned:!0})}catch(n){0}case 6:case"end":return e.stop()}},e)})),o.nfaToDfa=function(){var e=o.state.computer.nfaToDfa(),t={nodes:e.nodes.map(function(e,t){return{id:e.id,isAdmit:e.isAdmit,label:e.id.toString(),isInitial:0===t,isCurrent:!1}}),edges:e.edges};o.setState({gElements:t},function(){o.props.updateElements(z(t)),o.props.setComputerType("dfa")})},o.admitByStack=function(){var e=o.state.byEmptyStack;o.setState({byEmptyStack:!e}),o.props.setByEmptyStack(!e),o.state.computer.byEmptyStackAdmt(!e),o.reset()},o.minimizeDfa=function(){o.initializeComputer(),o.reset();try{var e=o.state.computer.minimizeDfa(),t={nodes:e.graphcore.nodes.map(function(t){return{id:t.id,isAdmit:t.isAdmit,label:"G"+t.id.toString(),isInitial:t.id===e.start.id,isCurrent:!1}}),edges:e.graphcore.edges};o.setState({gElements:t},function(){o.props.updateElements(z(t))})}catch(n){o.props.setIsNonMinimizable(!0),console.log("NonDeterministic")}},o.mooreToMealy=function(){o.initializeComputer(),o.reset();var e=o.state.computer.mooreToMealy(),t=e.start.map(function(e){return e.id}),n={nodes:e.graphcore.nodes.map(function(e){return{id:e.id,isAdmit:e.isAdmit,label:"S"+e.id.toString(),isInitial:t.includes(e.id),isCurrent:!1}}),edges:e.graphcore.edges};o.setState({gElements:n},function(){o.props.updateElements(z(n)),o.props.setComputerType("mealy")})},o.mealyToMoore=function(){o.initializeComputer(),o.reset();var e=o.state.computer.mealyToMoore(),t=e.start.map(function(e){return e.id}),n={nodes:e.graphcore.nodes.map(function(e){return{id:e.id,isAdmit:e.isAdmit,label:"S"+e.id.toString()+" | "+e.output,isInitial:t.includes(e.id),isCurrent:!1}}),edges:e.graphcore.edges};o.setState({gElements:n},function(){o.props.updateElements(z(n)),o.props.setComputerType("moore")})},o.defaultButtonsLine=[{name:function(){return"\u0428\u0430\u0433"},onClick:function(){return o.step()}},{name:function(){return"\u0417\u0430\u043f\u0443\u0441\u043a"},onClick:function(){return o.run()}},{name:function(){return"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"},onClick:function(){return o.reset()}}],o.buttonsTree=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}]],o.buttonNfa=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u0414\u041a\u0410"},onClick:function(){return o.nfaToDfa()}}]],o.buttonDfa=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u041c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},onClick:function(){return o.minimizeDfa()}}]],o.buttonMealy=[o.defaultButtonsLine],o.buttonMoore=[o.defaultButtonsLine,[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}],[{name:function(){return"\u041c\u0438\u043b\u0438"},onClick:function(){return o.mooreToMealy()}}]],o.buttonsByStackByState=[o.defaultButtonsLine,[{name:function(){return o.props.byEmptyStack?"\u041f\u043e \u0441\u0442\u0435\u043a\u0443":"\u041f\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e"},onClick:function(){return o.props.changerStack()}},{name:o.props.treeContextInfo,onClick:o.props.treeVisible}]],o.buttonsNoRun=[[{name:function(){return"\u0428\u0430\u0433"},onClick:function(){return o.step()}},{name:function(){return"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"},onClick:function(){return o.reset()}}],[{name:o.props.treeContextInfo,onClick:o.props.treeVisible}]],o.getButtons=function(){switch(o.props.computerType){case"mealy":case"dmealy":return Je(o.buttonMealy)}},o.state={input:"",result:void 0,computer:void 0,editMode:!0,currentInputIndex:-1,history:[],byEmptyStack:!1,wasRuned:!1,memory:void 0,gElements:H(o.props.elements),startNode:void 0,lastHistUnits:[],startStatements:[]},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.setInit(function(){var t=!1;if(e.props.elements.edges.forEach(function(e){""===e.label&&(t=!0)}),!t)return e.initializeComputer()}),this.props.setNfaToDfa(this.nfaToDfa),this.props.setMinimizeDfa(this.minimizeDfa),this.props.setMooreToMealy(this.mooreToMealy),this.props.setMealyToMoore(this.mealyToMoore),this.props.setChangerByStack(this.admitByStack),this.props.setRun(this.run),this.props.setStep(this.step),this.props.setReset(this.reset),this.props.setHistory(function(){return r.a.createElement(We,{startNode:e.state.startNode,history:e.state.history,historyEndRef:e.props.historyEndRef})}),this.initializeComputer()}},{key:"componentDidUpdate",value:function(e,t,n){this.computerShouldBeUpdated(H(e.elements),H(this.props.elements))&&this.initializeComputer()}},{key:"render",value:function(){var e=this;return r.a.createElement(y,{title:"\u0417\u0430\u043f\u0443\u0441\u043a"},r.a.createElement("div",null,r.a.createElement("div",{className:"run-control__item run-control__input__row"},this.state.editMode?r.a.createElement(S.a,{label:"\u0412\u0445\u043e\u0434\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430",size:"small",value:this.state.input,onChange:this.onInputChanged,onBlur:function(){e.state.input.length&&e.setState({editMode:!1},function(){return e.initializeComputer()})}}):r.a.createElement("div",{className:"run-control__input-value",onClick:function(){e.setState({editMode:!0})}},Array.from(this.state.input).map(function(t,n){return r.a.createElement("span",{className:"run-control__input__span"+(e.state.currentInputIndex===n?"--current":""),key:n},t)})),r.a.createElement("div",{className:"run-control__result"},void 0===this.state.result?null:this.state.result?r.a.createElement(Be.a,{style:{color:"var(--commerce)"}}):r.a.createElement(Ue.a,{style:{color:"var(--destructive)"}}))),this.getButtons()))}}]),n}(r.a.Component)),Xe=r.a.createContext(null),Ye=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).memRef=r.a.createRef(),o.network=r.a.createRef(),o.networkTST=r.a.createRef(),o.setIsNonDetermenistic=function(e){return o.setState({errIsNonDetermenistic:e})},o.setIsNonMinimizable=function(e){return o.setState({errIsNonMinimizable:e})},o.lastNodeId=0,o.subscribeToShortcuts=function(){document.addEventListener("keydown",function(e){"s"===e.key&&e.ctrlKey&&(e.preventDefault(),o.openSavePopout())})},o.openSavePopout=function(){o.setState({savePopoutOpen:!0})},o.closeSavePopout=function(){o.setState({savePopoutOpen:!1})},o.openWelcomePopout=function(){o.setState({welcomePopoutOpen:!0})},o.closeWelcomePopout=function(){o.setState({welcomePopoutOpen:!1})},o.setUser=function(e){o.setState({user:e})},o.updateGraph=function(){R(o.state.elements,o.state.computerType)},o.changeNodeLabel=function(e,t){o.state.elements.nodes.forEach(function(n){if(n.id===e){var r=t.split("").filter(function(e){return" "!==e&&"\n"!==e}).join("").split("|"),a=void 0!==r[1]?r[1]:"";o.state.elements.nodes.update({id:n.id,label:t,output:a})}}),o.updateGraph()},o.changeStateIsAdmit=function(e,t){o.state.elements.nodes.forEach(function(n){n.id===e&&o.state.elements.nodes.update({id:n.id,isAdmit:t})}),o.updateGraph()},o.changeStateIsInitial=function(e,t){o.state.elements.nodes.forEach(function(n){n.id===e&&o.state.elements.nodes.update({id:n.id,isInitial:t})}),o.updateGraph()},o.changeStateIsCurrent=function(e,t){o.state.elements.nodes.forEach(function(e){e.isCurrent&&o.state.elements.nodes.update({id:e.id,isCurrent:!1})}),o.state.elements.nodes.forEach(function(n){e.includes(n.id)&&o.state.elements.nodes.update({id:n.id,isCurrent:t})}),o.updateGraph()},o.createNode=function(e){o.lastNodeId++;var t={id:o.lastNodeId,label:"S"+o.lastNodeId,x:e.pointer.canvas.x,y:e.pointer.canvas.y,isAdmit:!1,isInitial:!1,isCurrent:!1};o.state.elements.nodes.add(t)},o.lastHistNodeId=0,o.createHistNode=function(e,t,n,r,a){o.lastHistNodeId++;var i=r?"#0041d0":n?"#ff0072":"#000000",s=a?"#ffff55":"#ffffff",c={id:o.lastHistNodeId,idd:e,label:t,isAdmit:n,isInitial:r,isCurrent:a,color:{background:s,border:i,highlight:{border:i,background:s}}};o.state.treeElems.nodes.add(c)},o.createHistEdge=function(e,t,n){var r=new Set([[{title:n}]]);o.state.treeElems.edges.add({from:e,to:t,transitions:r,label:n})},o.historyEndRef=r.a.createRef(),o.getLastHistNodeId=function(){return o.lastHistNodeId},o.resetHistTree=function(){for(var e=0;e<=o.lastHistNodeId;e++)o.state.treeElems.nodes.remove(e);o.state.treeElems.edges.forEach(function(e){return o.state.treeElems.edges.remove(e.id)}),o.lastHistNodeId=0},o.selectNode=function(e){var t=e.nodes,n=o.state.elements.nodes.get(t);o.setState({selectedNode:n[0]})},o.deselectNode=function(e){0===e.nodes.length&&o.setState({selectedNode:null})},o.deleteNode=function(e){o.state.elements.nodes.remove(e);var t=[];o.state.elements.edges.forEach(function(n){n.from!==e&&n.to!==e||t.push(n.id)}),o.state.elements.edges.remove(t)},o.selectEdge=function(e){var t=e.edges,n=o.state.elements.edges.get(t);o.setState({selectedEdge:n[0]}),console.log("click1  = selectEdge")},o.deselectEdge=function(e){0===e.edges.length&&o.setState({selectedEdge:null})},o.changeEdgeTransition=function(e,t){o.state.elements.edges.update({id:e,label:P(t,o.state.computerType),transitions:t})},o.deleteEdge=function(e){o.state.elements.edges.remove(e)},o.updMem=function(e,t){o.setState({mem:e,ptr:t})},o.treeVisible=function(){return o.setState({showTree:!o.state.showTree}),!o.state.showTree},o.state={computerType:null,selectedNode:null,selectedEdge:null,inEdgeMode:!1,elements:{nodes:new x.a,edges:new x.a},treeElems:{nodes:new x.a,edges:new x.a},options:{edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},length:200},nodes:{shape:"box",font:"18px Roboto black",labelHighlightBold:!1,widthConstraint:40,color:"red",heightConstraint:40},physics:{enabled:!1}},initiallyStabilized:!1,popout:null,savePopoutOpen:!1,welcomePopoutOpen:!0,isLogin:!0,mem:void 0,ptr:void 0,wasComputerResetted:!1,byEmptyStack:!1,errIsNonDetermenistic:!1,errIsNonMinimizable:!1,showTree:!1,History:function(){return r.a.createElement("div",null)},user:null},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(se.a,null,r.a.createElement(ce.c,null,r.a.createElement(ce.a,{path:"/register",element:r.a.createElement(me,null)}),r.a.createElement(ce.a,{path:"/registered",element:r.a.createElement(ge,null)}),r.a.createElement(ce.a,{path:"/user/:userId",element:r.a.createElement(De,{changeComputerType:function(t,n){var o=n||B[t].defaultGraph;z(o).nodes.forEach(function(e){return console.log(e)}),e.lastNodeId=o.nodes.length,e.setState({computerType:t,elements:z(o)},function(){return e.updateGraph()})}})}),r.a.createElement(ce.a,{path:"/",element:r.a.createElement(Xe.Provider,{value:this.state.computerType},r.a.createElement("div",{className:"app"},r.a.createElement($,{open:this.state.welcomePopoutOpen,onClose:this.closeWelcomePopout,changeComputerType:function(t,n){var o=n||B[t].defaultGraph;console.log(o),console.log(o.nodes),z(o).nodes.forEach(function(e){return console.log(e)}),e.lastNodeId=o.nodes.length,e.setState({computerType:t,elements:z(o)},function(){return e.updateGraph()})}}),this.state.popout,r.a.createElement(ie,{open:this.state.savePopoutOpen,onClose:this.closeSavePopout,isLogin:this.state.isLogin,graph:H(this.state.elements),computerType:this.state.computerType}),r.a.createElement("div",{className:"hint-container"},r.a.createElement(h.a,{className:"hint",variant:"outlined"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 Ctrl \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e"),r.a.createElement(h.a,{className:"hint",variant:"outlined"},"\u0414\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0435\u0440\u0448\u0438\u043d\u0443")),r.a.createElement(Ne,{isNonDetermenistic:this.state.errIsNonDetermenistic,setIsNonDetermenistic:this.setIsNonDetermenistic}),r.a.createElement(Te,{isNonMinimizable:this.state.errIsNonMinimizable,setIsNonMinimizable:this.setIsNonMinimizable}),r.a.createElement(Re,{computerType:this.state.computerType,wasComputerResetted:this.state.wasComputerResetted,mem:this.state.mem,ptr:this.state.ptr,memRef:this.memRef}),r.a.createElement(ve,{onMenuButtonClicked:this.openWelcomePopout,onSaveButtonClicked:this.openSavePopout,isLogin:this.state.isLogin}),r.a.createElement("div",{className:"field__container"},r.a.createElement(ke,{nodes:this.state.elements.nodes,edges:this.state.elements.edges,data:this.state.elements,onDoubleClick:this.createNode,onClick1:this.selectEdge,onClick2:this.selectNode,onClick3:this.deselectNode,onClick4:this.deselectEdge,network:this.network})),r.a.createElement("div",{className:"app__right-menu"},r.a.createElement(T,{node:this.state.selectedNode,changeNodeLabel:this.changeNodeLabel,changeStateIsAdmit:this.changeStateIsAdmit,changeStateIsInitial:this.changeStateIsInitial,deleteNode:this.deleteNode,reinitComputer:Pe.init}),r.a.createElement(G,{edge:this.state.selectedEdge,changeEdgeTransitions:this.changeEdgeTransition,deleteEdge:this.deleteEdge,computerType:this.state.computerType,reinitComputer:Pe.init}),r.a.createElement(Ke,{updMem:this.updMem,elements:this.state.elements,treeElems:this.state.treeElems,createHistNode:this.createHistNode,byEmptyStack:this.state.byEmptyStack,createHistEdge:this.createHistEdge,getLastHistNodeId:this.getLastHistNodeId,resetHistTree:this.resetHistTree,changeStateIsCurrent:this.changeStateIsCurrent,network:this.network,changerStack:Le.changerByStack,setInit:function(e){return Pe.init=e},setNfaToDfa:function(e){return Pe.nfaToDfa=e},setMinimizeDfa:function(e){return Pe.minimizeDfa=e},setMooreToMealy:function(e){return Pe.mooreToMealy=e},setMealyToMoore:function(e){return Pe.mealyToMoore=e},updateElements:function(t){return e.setState({elements:t},function(){return e.updateGraph()})},setComputerType:function(t){return e.setState({computerType:t})},setResettedStatus:function(t){return e.setState({wasComputerResetted:t})},setByEmptyStack:function(t){return e.setState({byEmptyStack:t})},setChangerByStack:function(e){return Le.changerByStack=e},setRun:function(e){return Le.run=e},setStep:function(e){return Le.step=e},setReset:function(e){return Le.reset=e},setHistory:function(t){return e.setState({History:t},function(){var t,n;return null===(t=e.historyEndRef)||void 0===t?void 0:null===(n=t.current)||void 0===n?void 0:n.scrollIntoView({behavior:"smooth"})})},historyEndRef:this.historyEndRef,setIsNonDetermenistic:this.setIsNonDetermenistic,setIsNonMinimizable:this.setIsNonMinimizable,treeVisible:this.treeVisible}))))})))}}]),n}(r.a.Component);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ye,null)),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.82c27484.chunk.js.map